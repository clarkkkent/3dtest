Для юзверя:

Изначально калькулятор открывается пустым в формате:

Выбран определенный размер запястья
Выбрана величина бусин

Сам калькулятор выглядит как набор полу-прозрачных (пустых) бусин. Нитку не видно.

Каждую из полу-прозрачных бусин можно заменить на реальную бусину.

Схема:

Исходя из запястья и величины бусин можно посчитать длину нитки, которую будем использовать

Исходя из величины бусины понимаем сколько места она занимает на нитке

Исходя из размеров нитки понимаем сколько бусин “влезет”

Генерируем “карту” размещения бусин - массив с бусинами и заполняем ее пустыми бусинами

При размещении в калькуляторе любой бусины длина нитки пересчитывается исходя из размещенных бусин. (Это делается потому, что у нас есть бусины разных размеров - шармы)

На нитку у нас есть допуски по сжатию / увеличению - регулируемые - для начала давай процентов 5

Если после размещения очередной бусины у нас осталось место на еще одну бусину (с учетом допуска) - то увеличиваем массив и добавляем еще одну пустую бусину в хвост массива

Если после размещения очередной бусины у нас не хватает места (не влазим в допуски) - удаляем пустую бусину (если пустых нет - удаляем последнюю бусину в массиве) и уменьшаем массив

Объекты


Бусина - Bead

Бывает 3х видов - пустая, обычная (круглая) и шарм

Пустая бусина - Empty

Параметры:
- Диаметр (в миллиметрах - float)

Не может быть оставлена в браслете в момент заказа!

Обычная бусина - Bead

Параметры:
- Диаметр (в миллиметрах - float)
- Какой-то внешний идентификатор (придумаем)
- Текстура (ссылка на картинку)
- Материал (текст)
- Описание какое-нибудь
- Цена - int в рублях

Шарм - Charm

Это типа изъебистая бусина

Параметры:
- Сколько занимает места на нитке (Тоже назовем диаметром)
- Место крепления нитки (хз пока как это сделать - давай предположим что будем мерять от “верха” шарма)
- Ссылка на obj файл
- Материал (текст)
- Цена - int в рублях
- Описание какое-нибудь

Макет - Layout

Тут храним размер бусин, величину запястья
Тут храним список бусин в нужном порядке
Сюда обращаемся для замены бусин на другие
Соответственно, тут происходит обсчёт всего и вся

Отображение - Render

Отвечает за рендер макета
